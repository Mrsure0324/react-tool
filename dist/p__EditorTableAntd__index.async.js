"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[79],{69216:function(K,p,r){r.r(p);var D=r(25359),_=r.n(D),b=r(49811),d=r.n(b),g=r(54306),f=r.n(g),M=r(18631),P=r(41745),c=r(8637),R=r(52990),y=r(60614),m=r(93236),l=r(62086),O=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];p.default=function(){var j=(0,m.useState)(function(){return[]}),v=f()(j,2),T=v[0],C=v[1],h=(0,m.useRef)(),E=(0,m.useRef)(),I=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var a=d()(_()().mark(function n(){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return e.stop()}},n)}));function t(){return a.apply(this,arguments)}return t}(),fieldProps:function(t,n){var u=n.rowIndex;return{onSelect:function(){var s,o;(s=E.current)===null||s===void 0||(o=s.setRowData)===null||o===void 0||o.call(s,u,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(t){var n=t==null?void 0:t.scoringMethod;return n==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var a=d()(_()().mark(function n(){return _()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["A","B","D","E","F"].map(function(s,o){return{label:s,value:o}}));case 1:case"end":return e.stop()}},n)}));function t(){return a.apply(this,arguments)}return t}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(t,n){return[(0,l.jsx)("a",{onClick:function(){var e,s,o=(e=formRef.current)===null||e===void 0?void 0:e.getFieldValue("table");(s=formRef.current)===null||s===void 0||s.setFieldsValue({table:o.filter(function(U){return U.id!==(n==null?void 0:n.id)})})},children:"\u79FB\u9664"},"delete"),(0,l.jsx)("a",{onClick:function(){var e;(e=h.current)===null||e===void 0||e.startEditable(n.id)},children:"\u7F16\u8F91"},"edit")]}}],x=c.Z.useForm(),F=f()(x,1),i=F[0];return(0,l.jsx)(M.Z,{children:(0,l.jsxs)("div",{style:{maxWidth:800,margin:"auto"},children:[(0,l.jsxs)(c.Z,{form:i,initialValues:{table:O},onFinish:function(t){console.log("onFinish",t)},children:[(0,l.jsx)(c.Z.Item,{name:"test1",children:(0,l.jsx)(R.Z,{})}),(0,l.jsx)(P.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:E,controlled:!0,actionRef:h,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var a=d()(_()().mark(function n(u,e){return _()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e.length<1)){o.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(e.length>5)){o.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return o.stop()}},n)}));function t(n,u){return a.apply(this,arguments)}return t}()}]},maxLength:10,name:"table",columns:I,recordCreatorProps:{record:function(t){return{id:t+1}}},editable:{type:"multiple",editableKeys:T,onChange:C}})]}),(0,l.jsx)(y.ZP,{type:"primary",onClick:function(){var t=i==null?void 0:i.getFieldsValue();console.log(t)},children:"Submit"})]})})}}}]);
