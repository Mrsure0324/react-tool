"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[79],{69503:function(K,f,r){r.r(f);var D=r(25359),u=r.n(D),b=r(49811),d=r.n(b),M=r(54306),v=r.n(M),P=r(44518),R=r(58944),c=r(41410),y=r(33943),g=r(65804),m=r(93236),s=r(62086),O=[{id:624748504,associate:"\u9898\u5E93\u540D\u79F0\u4E00",questionsNum:10,type:"multiple",scoringMethod:"continuous",fraction:20},{id:624691229,associate:"\u9898\u5E93\u540D\u79F0\u4E8C",questionsNum:10,scoringMethod:"continuous",type:"radio",fraction:20},{id:624748503,associate:"\u9898\u5E93\u540D\u79F0\u4E09",questionsNum:10,type:"judge",scoringMethod:"continuous",fraction:20},{id:624691220,associate:"\u9898\u5E93\u540D\u79F0\u56DB",questionsNum:10,scoringMethod:"continuous",type:"vacant",fraction:20}];f.default=function(){var T=(0,m.useState)(function(){return[]}),p=v()(T,2),C=p[0],I=p[1],h=(0,m.useRef)(),E=(0,m.useRef)(),x=[{title:"\u5173\u8054\u9898\u5E93",dataIndex:"associate",valueType:"text",ellipsis:!0},{title:"\u9898\u578B",key:"type",dataIndex:"type",valueType:"select",valueEnum:{multiple:{text:"\u591A\u9009\u9898",status:"Default"},radio:{text:"\u5355\u9009\u9898",status:"Warning"},vacant:{text:"\u586B\u7A7A\u9898",status:"Error"},judge:{text:"\u5224\u65AD\u9898",status:"Success"}}},{title:"\u9898\u6570",dataIndex:"questionsNum",valueType:"digit"},{title:"\u8BA1\u5206\u65B9\u5F0F",dataIndex:"scoringMethod",valueType:"select",request:function(){var a=d()(u()().mark(function n(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",[{value:"discrete",label:"\u79BB\u6563\u578B"},{value:"continuous",label:"\u8FDE\u7EED\u578B"}]);case 1:case"end":return e.stop()}},n)}));function t(){return a.apply(this,arguments)}return t}(),fieldProps:function(t,n){var _=n.rowIndex;return{onSelect:function(){var l,o;(l=E.current)===null||l===void 0||(o=l.setRowData)===null||o===void 0||o.call(l,_,{fraction:[]})}}}},{title:"\u5206\u503C",width:150,dataIndex:"fraction",valueType:function(t){var n=t==null?void 0:t.scoringMethod;return n==="discrete"?"select":"digit"},fieldProps:{mode:"multiple"},request:function(){var a=d()(u()().mark(function n(){return u()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["A","B","D","E","F"].map(function(l,o){return{label:l,value:o}}));case 1:case"end":return e.stop()}},n)}));function t(){return a.apply(this,arguments)}return t}()},{title:"\u64CD\u4F5C",valueType:"option",render:function(t,n){return[(0,s.jsx)("a",{onClick:function(){var e,l,o=(e=formRef.current)===null||e===void 0?void 0:e.getFieldValue("table");(l=formRef.current)===null||l===void 0||l.setFieldsValue({table:o.filter(function(j){return j.id!==(n==null?void 0:n.id)})})},children:"\u79FB\u9664"},"delete"),(0,s.jsx)("a",{onClick:function(){var e;(e=h.current)===null||e===void 0||e.startEditable(n.id)},children:"\u7F16\u8F91"},"edit")]}}],F=c.Z.useForm(),U=v()(F,1),i=U[0];return(0,s.jsx)(P.Z,{children:(0,s.jsxs)("div",{style:{maxWidth:800,margin:"auto"},children:[(0,s.jsxs)(c.Z,{form:i,initialValues:{table:O},onFinish:function(t){console.log("onFinish",t)},children:[(0,s.jsx)(c.Z.Item,{name:"test1",children:(0,s.jsx)(y.Z,{})}),(0,s.jsx)(R.Z,{rowKey:"id",scroll:{x:!0},editableFormRef:E,controlled:!0,actionRef:h,formItemProps:{label:"\u9898\u5E93\u7F16\u8F91",rules:[{validator:function(){var a=d()(u()().mark(function n(_,e){return u()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(!(e.length<1)){o.next=2;break}throw new Error("\u8BF7\u81F3\u5C11\u6DFB\u52A0\u4E00\u4E2A\u9898\u5E93");case 2:if(!(e.length>5)){o.next=4;break}throw new Error("\u6700\u591A\u53EF\u4EE5\u8BBE\u7F6E\u4E94\u4E2A\u9898\u5E93");case 4:case"end":return o.stop()}},n)}));function t(n,_){return a.apply(this,arguments)}return t}()}]},maxLength:10,name:"table",columns:x,recordCreatorProps:{record:function(t){return{id:t+1}}},editable:{type:"multiple",editableKeys:C,onChange:I}})]}),(0,s.jsx)(g.ZP,{type:"primary",onClick:function(){var t=i==null?void 0:i.getFieldsValue();console.log(t)},children:"Submit"})]})})}}}]);
